<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Emacs on Fuloido&#39;s Blog</title>
    <link>http://localhost:1313/tags/emacs/</link>
    <description>Recent content in Emacs on Fuloido&#39;s Blog</description>
    <generator>Hugo</generator>
    <language>zh-cn</language>
    <copyright>© Fuloido</copyright>
    <lastBuildDate>Sat, 15 Mar 2025 15:14:25 +0800</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/emacs/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>如何制作 X-Face 风格头像</title>
      <link>http://localhost:1313/posts/how-to-make-and-use-xface/</link>
      <pubDate>Mon, 17 Feb 2025 01:23:06 +0800</pubDate>
      <guid>http://localhost:1313/posts/how-to-make-and-use-xface/</guid>
      <description>&lt;p&gt;一开始是在 &lt;em&gt;emacs-china&lt;/em&gt; 上水论坛时，经常能看到像素极低、纯黑白的头像、却又很带感的头像。后来&lt;a href=&#34;https:emacs-china.org/t/topic/3118&#34;&gt;发现&lt;/a&gt;原来叫 &lt;code&gt;X-face&lt;/code&gt; ，大概是邮件／新闻组时代流行的头像。&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;翻到 &lt;a href=&#34;https://blog.csdn.net/lujun9972/article/details/46002803&#34;&gt;DarkSun转的一篇老文章&lt;/a&gt;，提到了 &lt;a href=&#34;https://en.wikipedia.org/wiki/X-Face&#34;&gt;X-Face&lt;/a&gt; 这个邮件／新闻组时代很流行的东西。就和现在的 Gravatar 差不多。甚至以前的 IRC 也能显示 X-face 头像。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;&lt;code&gt;X-face&lt;/code&gt; 是邮件 header 部分嵌入的一段代码，在读入邮件时转换为 &lt;em&gt;48x48&lt;/em&gt; 的 bitmap。可以通过 &lt;a href=&#34;https://www.dairiki.org/xface/xface.php&#34;&gt;Online X-Face Converter&lt;/a&gt; 直接转换。然而，如果你的图片是彩色的、分辨率过高，直接转换的效果很不好。&lt;/p&gt;&#xA;&lt;p&gt;这里参考了 &lt;a href=&#34;https://emacs-china.org/t/x-face/28144&#34;&gt;emacs-china 上的一个教程&lt;/a&gt;，分享一下作为 &lt;code&gt;gimp&lt;/code&gt; 苦手的制作过程。&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;图像-&amp;gt;模式-&amp;gt;灰度：将彩色的图片去色便于后续通过 &lt;strong&gt;阈值&lt;/strong&gt; 分割像素，当然最好用本来就是黑白的图片。&lt;/li&gt;&#xA;&lt;li&gt;颜色-&amp;gt;阈值：这一步将黑白像素分离，只要有线条即可，后续通过滤镜加粗线条。这里建议可以分图层处理，比如说眼睛部分和头发部分，往往当眼睛部分已经全为黑色像素时头发的线条还未区分。&lt;/li&gt;&#xA;&lt;li&gt;图像-&amp;gt;模式-&amp;gt;索引：将图片变为 &lt;em&gt;black and white pattle(1bit)&lt;/em&gt;&lt;/li&gt;&#xA;&lt;li&gt;滤镜-&amp;gt;常规-&amp;gt;腐蚀：将线条加粗，一般需要多次使用这个滤镜。&lt;/li&gt;&#xA;&lt;li&gt;图像-&amp;gt;缩放：缩放为 48x48 ，插值方法一般不限。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;据 &lt;a href=&#34;https://emacs-china.org/t/x-face/28144/2&#34;&gt;LdBeth&lt;/a&gt;，x-face 没有确切的解码标准，甚至因为作者技术问题和导致仿造实现时出了偏差，有些实现是相互不兼容的，现在一般用 compface 这个具体实现。这里直接使用 &lt;em&gt;compface&lt;/em&gt; 提供的 &lt;code&gt;xbm2xface&lt;/code&gt; 脚本即可。或者直接使用 &lt;a href=&#34;https://www.dairiki.org/xface/xface.php&#34;&gt;Online X-Face Converter&lt;/a&gt; encode一下。&lt;/p&gt;&#xA;&lt;h2 id=&#34;为-wanderlust-设置-x-face-邮件头&#34;&gt;为 WanderLust 设置 X-Face 邮件头&lt;/h2&gt;&#xA;&lt;p&gt;&lt;em&gt;WanderLust&lt;/em&gt; 自动读取 &lt;code&gt;~/.xface&lt;/code&gt; ，如果需要显示 X-Face 则需要额外的包，参考了 &lt;code&gt;doom emacs&lt;/code&gt; ，添加：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-elisp&#34; data-lang=&#34;elisp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;;; Use x-face only when compface installed&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  (when (modulep! +xface)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (&lt;span style=&#34;color:#a6e22e&#34;&gt;autoload&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;x-face-decode-message-header&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x-face-e21&amp;#34;&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (setq wl-highlight-x-face-function &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;x-face-decode-message-header&lt;/span&gt;))&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;顺便一提， &lt;code&gt;Homebrew&lt;/code&gt; 目前不提供 &lt;code&gt;compface&lt;/code&gt; 这个包，这里参考 &lt;a href=&#34;https://www.linuxfromscratch.org/blfs/view/git/general/compface.html&#34;&gt;Linux® From Scratch&lt;/a&gt; 手动构建了这个程序。你可能需要：&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
